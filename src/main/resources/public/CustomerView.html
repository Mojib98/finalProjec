<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <script type="module" src="js/Address.js" ></script> -->
   <!-- <script src="https://code.jquery.com/jquery-migrate-3.4.0.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
        crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
        <script type="module" src="js/CustomerViewScript.js" ></script>


<link rel="stylesheet" href="https://cdn.map.ir/web-sdk/1.4.2/css/mapp.min.css">
<link rel="stylesheet" href="https://cdn.map.ir/web-sdk/1.4.2/css/fa/style.css">
<style>
                      @charset "utf-8";
html, body {
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
}
html {
    font-size: 15px;
}
body {
    overflow: visible !important;
}
/* #app1 {
    overflow: visible  !important;
    width: 80%  !important;
    height: 80% !important;

} */
#app{
    width: 50%  !important;
    height: 50% !important;
}
</style>

</head>

<body>
    
    <div class="container">
      
        
        <nav class="navbar navbar-expand-lg bg-light">
            <div class="container-fluid">
                <!-- <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon">fsadfsa</span>
                </button>
                <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-toggle=".collapse.show"
                    data-bs-target="#showOrder" aria-expanded="true" aria-controls="#showOrder" id="StartshowOrder">
                    مشاهده سفارشات
                </button> -->
                <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-toggle=".collapse.show"
                    data-bs-target="#showAllOrderForchoive" aria-expanded="true" aria-controls="#showAllOrderForchoive" id="showOrders">
                    showOffer
                </button>
                <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#wirteorder"
                    aria-expanded="false" aria-controls="wirteorder" id="showingMap">
                    درخواست خدمت
                </button>
                <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#downWork"
                    aria-expanded="false" aria-controls="downWork" id="showDownWork">
                     show offer for pay
                </button>
                <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#showAllOrderForMe"
                    aria-expanded="false" aria-controls="showAllOrderForMe" id="ALlOrder">
                    مشاهده تمام سفارشات
                </button>
                <button class="btn btn-primary" type="button" id="MyInfo">
                    مشاهده مشخصات
                </button>
              
            </div>
        </nav>

        <div class="collapse navbar-collapse" id="showOrder">
            <!--        <div class="card card-body">-->
            <!--            <div id="listOrder">-->
            <!--            </div>-->
            <!--        <div>-->

            <h1></h1>
            <br />
            <fieldset>
                <legend>
                    show Order list
                </legend>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>price</th>
                            <th>workTime</th>
                            <th>timeForWork</th>
                            <th>expertName</th>
                            <!-- <th>price</th>
                    <th>Address</th>
                    <th>City</th> -->
                        </tr>
                    </thead>
                    <tbody id="tableOrder">
                    </tbody>
                </table>
            </fieldset>

            <div>
                <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-toggle=".collapse.show"
                    data-bs-target="#OffferForOrdershow" aria-expanded="true" aria-controls="#OffferForOrdershow" >
                    showOffer
                </button>
            </div>
            </div>
            <div class="collapse navbar-collapse" id="OffferForOrdershow">
                <!--        <div class="card card-body">-->
                <!--            <div id="listOrder">-->
                <!--            </div>-->
                <!--        <div>-->

                <h1></h1>
                <br />
                <fieldset>
                    <legend>
                        show Offer list
                    </legend>
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>price</th>
                            <th>workTime</th>
                            <th>timeForWork</th>
                            <th>expertName</th>
                            <th>checkbox</th>
                            <!-- <th>price</th>
                    <th>Address</th>
                    <th>City</th> -->
                        </tr>
                        </thead>
                        <tbody id="OffferForOrder">
                        </tbody>
                    </table>
                </fieldset>
                <div>
                    <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-toggle=".collapse.show"
                            data-bs-target="#OffferForOrdershow" aria-expanded="true" aria-controls="#OffferForOrdershow" id="chioceOffer">
                        choice
                    </button>
                </div>
        </div>
        <div class="collapse navbar-collapse" id="downWork">
            <!--        <div class="card card-body">-->
            <!--            <div id="listOrder">-->
            <!--            </div>-->
            <!--        <div>-->

            <h1></h1>
            <br />
            <fieldset>
                <legend>
                    service list
                </legend>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>price</th>
                            <th>describe</th>
                            <th>timeForWork</th>
                            <th>expertName</th>
                            <th>serviceName</th>
                            <th>statud</th>
                            <th>checkbox</th>
                            <!-- <th>price</th>
                    <th>Address</th>
                    <th>City</th> -->
                        </tr>
                    </thead>
                    <tbody id="listDownWork">
                    </tbody>
                </table>
            </fieldset>

            <div>
                <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-toggle=".collapse.show"
                    data-bs-target="#paypage" aria-expanded="true" aria-controls="paypage" id="#">
                    Paying1
                </button>
            </div>
        </div>
        <div class="collapse navbar-collapse" id="showAllOfferForMe">
            <!--        <div class="card card-body">-->
            <!--            <div id="listOrder">-->
            <!--            </div>-->
            <!--        <div>-->

            <h1></h1>
            <br />
            <fieldset>
                <legend>
                    service list
                </legend>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>price</th>
                            <th>workTime</th>
                            <th>timeForWork</th>
                            <th>expertName</th>
                            <th>checkbox</th>
                            <!-- <th>price</th>
                    <th>Address</th>
                    <th>City</th> -->
                        </tr>
                    </thead>
                    <tbody id="listShowAllOfferForMe">
                    </tbody>
                </table>
            </fieldset>

            <div>
                <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-toggle=".collapse.show"
                    data-bs-target="#paypage" aria-expanded="true" aria-controls="paypage" id="">
                    Paying1
                </button>
            </div>
        </div>

        <!-- <div class="collapse navbar-collapse" id="visable">
            <div class="card card-body">
                <div>
                </div>
                <div>

                    <h1></h1>
                    <br />
                    <fieldset>
                        <legend>
                            service list
                        </legend>
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>name</th>
                                    <th>price</th>
                                    <th>time</th>
                                    <th>status</th>
                                    <th>checkbox</th>
                                     <th>price</th>
                    <th>Address</th>
                    <th>City</th> 
                                </tr>
                            </thead>
                            <tbody id="tableOffer">
                            </tbody>
                        </table>
                    </fieldset>
                </div>
               
            </div>
        </div> -->
        //--
        <div class="collapse navbar-collapse" id="showAllOrderForMe">
            <div class="card card-body">
                <div>

                    <h1></h1>
                    <br />
                    <fieldset>
                        <legend>
                            service list
                        </legend>
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>name</th>
                                    <th>price</th>
                                    <th>time</th>
                                    <th>status</th>
                                    <th>checkbox</th>
                                    <!-- <th>price</th>
                    <th>Address</th>
                    <th>City</th> -->
                                </tr>
                            </thead>
                            <tbody id="listOfOrder">
                            </tbody>
                        </table>
                    </fieldset>
                </div>
              
            </div>
        </div>
        <div class="collapse navbar-collapse" id="showAllOrderForchoive">
            <div class="card card-body">
                <div>

                    <h1></h1>
                    <br />
                    <fieldset>
                        <legend>
                            service list
                        </legend>
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>name</th>
                                    <th>price</th>
                                    <th>time</th>
                                    <th>status</th>
                                    <th>checkbox</th>
                                    <!-- <th>price</th>
                    <th>Address</th>
                    <th>City</th> -->
                                </tr>
                            </thead>
                            <tbody id="listOfOrderForChoice">
                            </tbody>
                        </table>
                    </fieldset>
                </div>
                <div>
                    <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-toggle=".collapse.show"
                        data-bs-target="#OffferForOrdershow" aria-expanded="true" aria-controls="#OffferForOrdershow" id="StartshowOffer">
                        choice ordder for find Offer
                    </button>
                </div>
              
            </div>
        </div>
        

    
    <form id="wirteorder"  class="collapse navbar-collapse ">
        <div class="form-outline mb-4">
            <label for="service"></label>
            <!-- <option selected>Open this select menu</option> -->
            <select id="service" class="form-select" aria-label="Default select example">
                <option selected>Sub service</option>
            </select>
        </div>
        <div class="form-outline mb-4" id="">
            <label for="Subservices"></label>
                <select id="Subservices" class="form-select" aria-label="Default select example">
                    <option selected>Sub service</option>
                </select>

            <h1>لیست تمامی خدمات موجود در سامانه</h1>
            <br />
            <fieldset>
                <legend>
                    service list
                </legend>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>subService</th>
                            <th>price</th>
                            <th>select</th>
                        </tr>
                    </thead>
                    <tbody id="SubServiceList">
                    </tbody>
                </table>
            </fieldset>
        </div>

        <!-- Text input -->
        <!-- <div class="form-outline mb-4">
            <input type="text" id="address" class="form-control" />
            <label class="form-label" for="address">Address</label>
        </div> -->
      
        
       <br>
        <!-- Email input -->
        <div class="form-outline mb-4">
            <input type="datetime-local" id="time" class="form-control" />
            <label class="form-label" for="time">date</label>
        </div>

        <!-- Number input -->
        <div class="form-outline mb-4">
            <input type="number" id="price" class="form-control" />
            <label class="form-label" for="price">Price</label>
        </div>

        <!-- Message input -->
        <div class="form-outline mb-4">
            <textarea class="form-control" id="describe" rows="4"></textarea>
            <label class="form-label" for="describe">describe</label>
        </div>
        <button type="submit" id="createOffer" class="btn btn-primary btn-block mb-4">Place order</button>



        <!-- Submit button -->
    </form>
    <br>
    <br>
    <br>
    <br>
        
    



    <form id="paypage" class="collapse navbar-collapse ">
        <select class="form-select" aria-label="Default select example" id="rating">
            <option selected value="5" >پنج</option>
            <option value="1" >یک</option>
            <option value="2">دو</option>
            <option value="3">سه</option>
            <option value="4">چهار</option>
            <option value="5">پنج</option>
          </select>
        <div class="form-outline mb-4">
            <textarea class="form-control" id="commenrText" rows="4"></textarea>
            <label class="form-label" for="commenrText"><i class="fa fa-comment" aria-hidden="true"></i></label>
            <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-toggle=".collapse.show"
                    data-bs-target="#" aria-expanded="true" aria-controls="" id="paying">
                    Paying
                </button>
                <button class="btn btn-primary" type="button" id="onlinePaying">
                    online paying
                </button>
        </div>

    </form>
   <div class="collapse navbar-collapse" id="showDown">
            <div class="card card-body">
                <div>
                </div>
                <div>

                    <h1></h1>
                    <br />
                    <fieldset>
                        <legend>
                            service list
                        </legend>
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>name</th>
                                    <th>price</th>
                                    <th>time</th>
                                    <th>status</th>
                                    <th>checkbox</th>
                                    <!-- <th>price</th>
                    <th>Address</th>
                    <th>City</th> -->
                                </tr>
                            </thead>
                            <tbody id="">
                            </tbody>
                        </table>
                    </fieldset>
                </div>
                <div>
                    <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-toggle=".collapse.show"
                        data-bs-target="#paypage" aria-expanded="true" aria-controls="paypage">
                        paying
                    </button>
                </div>
            </div>
        </div>
       
    </div>
    <div id="app" >
    </div>
    <input id="addresstext" type="hidden">

  
   
  
    <script type="text/javascript" src="https://cdn.map.ir/web-sdk/1.4.2/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="https://cdn.map.ir/web-sdk/1.4.2/js/mapp.env.js"></script>
<script type="text/javascript" src="https://cdn.map.ir/web-sdk/1.4.2/js/mapp.min.js"></script>

    <script>
            $(document).ready(function () {
    // alert("can do this")
    var myaddress ;
    var app = new Mapp({
      element: '#app',
      apiKey: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImQzMGEwOTg5Y2JmYmY2NWM3YmU3OGY0MDRkM2FlN2RiYmU3NzllMDdjOWNjODk4YmJmMzk5OTBkYzViNWIxZDVkZDk5Y2Q1YjczMzE1NDIyIn0.eyJhdWQiOiIxODI1MiIsImp0aSI6ImQzMGEwOTg5Y2JmYmY2NWM3YmU3OGY0MDRkM2FlN2RiYmU3NzllMDdjOWNjODk4YmJmMzk5OTBkYzViNWIxZDVkZDk5Y2Q1YjczMzE1NDIyIiwiaWF0IjoxNjU0NjI1NDI5LCJuYmYiOjE2NTQ2MjU0MjksImV4cCI6MTY1NzIxNzQyOSwic3ViIjoiIiwic2NvcGVzIjpbImJhc2ljIl19.RGQSdY96zstW2_dK4S3WgLXkFa_8Byvu8A_0lsloixTokRm_vTRJZ-S_ZIyJVc96Latnem-kLne7RaGH22gkSuZSONQjYaaDaSXnAXRg7vVE3jwhIUjGIBcpP66fQ0xLwV9b0cyvBq5DK_wph8uA0THoE-tkz85nx_mhDhio0TDk3wMLSSeRHPsdit0cb9-iuIS4Rb_vmHHAivQafWuP_q9lKeg2XYt6Y0CMBbfdLUHbxaVz1vuNpCZ_HAvPxvdQOyFUI-jLHjkmTon2QTebnFlAsSTDZNWQiHQVax12kTvWkOmP2rP-xGZeHpFT6-iKYJgcOs-Jm5HoLDamBzO4PA',
      presets: {
        latlng: {
//         // آدرس یابی و نمایش نتیجه در یک باکس مشخص
//         app.showReverseGeocode({
//           state: {
//             latlng: {
//               lat: e.latlng.lat,
//               lng: e.latlng.ln
          lat: 35.73249,
          lng: 51.42268
        },
        zoom: 10
      }
    });
    app.addVectorLayers();
    let marker = app.addMarker({
      name: 'marker',
      latlng: {
        lat: 35.73249,
        lng: 51.42268
      },
      popup: {
        open: false
      }
    });
    app.map.on('click', function(e) {
      $.ajax({
        url: `https://map.ir/reverse/?lat=${e.latlng.lat}&lon=${e.latlng.lng}`,
        method: 'GET',
        beforeSend: function(request) {
          request.setRequestHeader('x-api-key', 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImQzMGEwOTg5Y2JmYmY2NWM3YmU3OGY0MDRkM2FlN2RiYmU3NzllMDdjOWNjODk4YmJmMzk5OTBkYzViNWIxZDVkZDk5Y2Q1YjczMzE1NDIyIn0.eyJhdWQiOiIxODI1MiIsImp0aSI6ImQzMGEwOTg5Y2JmYmY2NWM3YmU3OGY0MDRkM2FlN2RiYmU3NzllMDdjOWNjODk4YmJmMzk5OTBkYzViNWIxZDVkZDk5Y2Q1YjczMzE1NDIyIiwiaWF0IjoxNjU0NjI1NDI5LCJuYmYiOjE2NTQ2MjU0MjksImV4cCI6MTY1NzIxNzQyOSwic3ViIjoiIiwic2NvcGVzIjpbImJhc2ljIl19.RGQSdY96zstW2_dK4S3WgLXkFa_8Byvu8A_0lsloixTokRm_vTRJZ-S_ZIyJVc96Latnem-kLne7RaGH22gkSuZSONQjYaaDaSXnAXRg7vVE3jwhIUjGIBcpP66fQ0xLwV9b0cyvBq5DK_wph8uA0THoE-tkz85nx_mhDhio0TDk3wMLSSeRHPsdit0cb9-iuIS4Rb_vmHHAivQafWuP_q9lKeg2XYt6Y0CMBbfdLUHbxaVz1vuNpCZ_HAvPxvdQOyFUI-jLHjkmTon2QTebnFlAsSTDZNWQiHQVax12kTvWkOmP2rP-xGZeHpFT6-iKYJgcOs-Jm5HoLDamBzO4PA');
          request.setRequestHeader('content-type', 'application/json');
        },
        success: function(data, status) {
          var lat = e.latlng.lat;
          var lng = e.latlng.lng;
          var newLatLng = new L.LatLng(lat, lng);
          marker.setLatLng(newLatLng);
          myaddress=data.address;
          $("#addresstext").val(myaddress);
          alert(myaddress);
          var popup = app.generatePopupHtml({
            title: { i18n: 'آدرس' },
            description: { i18n: data.address },
  
          });
          marker.bindPopup(popup).openPopup();
        },
        error: function(error) {
          console.log(error);
        }
      });
    });
         
         

});
// export { myaddress };
 
  

    </script>
    
     
</body>



</html>